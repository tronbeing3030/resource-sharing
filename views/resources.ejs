<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Resources</title>
  </head>
  <body>
    <div class="card px-4 py-4" style="width: auto">
      <h1>All Resources</h1>
      <ol>
        <% resources.forEach(resource => { %>
        <li>
          <div class="col-md-6">
            <div
              class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"
            >
              <div class="col p-4 d-flex flex-column position-static">
                <h3 class="mb-0"><%= resource.title %></h3>
                <div class="mb-1 text-body-secondary">
                  <%= resource.subject %>
                </div>
                <a
                  href="/download/<%= resource.fileName %>"
                  class="icon-link gap-1 icon-link-hover stretched-link btn btn-primary px-3"
                >
                  Download
                </a>
                <!-- <a
                href=""
                class="icon-link gap-1 icon-link-hover stretched-link btn btn-danger px-3"
              >
                Delete
              </a> -->
              </div>
            </div>
          </div>
        </li>

        <% }) %>
      </ol>
      <p style="display: flex; align-items: center; justify-content: center">
        <a href="/" class="btn btn-primary" style="width: 20em">Back to Home</a>
      </p>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <!-- <script>
      document.querySelectorAll(".delete-btn").forEach((button) => {
        button.addEventListener("click", function () {
          const resourceId = this.getAttribute("data-id");

          if (confirm("Are you sure you want to delete this resource?")) {
            fetch(`/delete/${resourceId}`, {
              method: "DELETE",
            })
              .then((response) => response.json())
              .then((data) => {
                if (data.success) {
                  alert("Resource deleted successfully.");
                  location.reload();
                } else {
                  alert("Failed to delete resource.");
                }
              })
              .catch((error) => console.error("Error:", error));
          }
        });
      });
    </script> -->
  </body>
</html>
