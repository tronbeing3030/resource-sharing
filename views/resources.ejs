<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Resources</title>
  </head>
  <body class="row align-items-center justify-content-center text-bg-light" style="height: 100vh;">
    <div class="card px-4 py-4 mt-5 mb-5" style="width: 50em">
      <h1 class="mb-4">All Resources</h1>
      <div>
        <% resources.forEach(resource => { %>
          <div >
            <div
              class="row g-0 border rounded overflow-hidden flex-md-row mb-4 position-relative"
            >
              <div class="col p-4 d-flex flex-column position-static">
                <h3 class="mb-0"><%= resource.title %></h3>
                <p class="mb-0"><%= resource.semester %> Sem, <%= resource.subject %></p>
                <div class="mb-3 text-body-secondary">
                  <%= resource.subject %>
                </div>
                <a
                  href="/download/<%= resource.fileName %>"
                  class="icon-link  icon-link-hover stretched-link btn btn-primary px-3 text-center"
                >
                Download 
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cloud-download" viewBox="0 0 16 16">
                  <path d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383"></path>
                  <path d="M7.646 15.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 14.293V5.5a.5.5 0 0 0-1 0v8.793l-2.146-2.147a.5.5 0 0 0-.708.708z"></path>
                </svg>
                </a>
                <!-- <a
                href=""
                class="icon-link gap-1 icon-link-hover stretched-link btn btn-danger px-3"
              >
                Delete
              </a> -->
              </div>
            </div>
          </div>

        <% }) %>
      </div>
      <p style="display: flex; align-items: center; justify-content: center">
        <a href="/" class="btn btn-primary" style="width: 20em">Back to Home</a>
      </p>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <!-- <script>
      document.querySelectorAll(".delete-btn").forEach((button) => {
        button.addEventListener("click", function () {
          const resourceId = this.getAttribute("data-id");

          if (confirm("Are you sure you want to delete this resource?")) {
            fetch(`/delete/${resourceId}`, {
              method: "DELETE",
            })
              .then((response) => response.json())
              .then((data) => {
                if (data.success) {
                  alert("Resource deleted successfully.");
                  location.reload();
                } else {
                  alert("Failed to delete resource.");
                }
              })
              .catch((error) => console.error("Error:", error));
          }
        });
      });
    </script> -->
  </body>
</html>
